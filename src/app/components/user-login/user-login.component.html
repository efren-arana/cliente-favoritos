<div class="container">
  <ng-container *ngIf="logged">
    <div>
      <h1>{{identity.email}}</h1>
      <button type="button" class="btn btn-success" (click)="logOut()">Log Out</button> 
    </div>
  </ng-container>
  <div class="row" *ngIf = "!logged">
  <div class="col-sm-8">
        <h1>Identificate</h1>
        <ng-container *ngIf = "errorMessage">
            <div class="alert alert-danger">
                <strong>Danger!</strong>{{errorMessage}}
              </div>
        </ng-container>
    <form (ngSubmit) = "login()" #loginForm = "ngForm" class="was-validated col-md-7">
    <div class="form-group">
      <label for="uname">Email:</label>
      <input #email = "ngModel"
             [(ngModel)]="user.email"
             class="form-control" 
             id="uname" 
             placeholder="Enter username" 
             name="uname" 
             pattern=".+@.+\..+"
             required>
             <div class="valid-feedback">Valid.</div>
            <ng-container *ngIf="email.invalid && email.touched">
                <p class="invalid-feedback" *ngIf="email.errors?.required">
                  Email is required!
                </p>
                <p class="invalid-feedback" *ngIf="email.errors?.pattern">
                  Email should be the real one!
                </p>
            </ng-container>
    </div>
    <div class="form-group">
        <span class="label-with-link">
            <label class="label" for="pwd">Password:</label><br>
            <a class="forgot-password caption-2" routerLink="../request-password">Forgot Password?</a>
          </span>
      <input type="password" 
             class="form-control"            
             #password="ngModel"
             [(ngModel)]="user.password"
             id="pwd" 
             placeholder="Enter password" 
             name="pswd" 
             minlength="4" 
             maxlength="10"
             required>
        <div class="valid-feedback">Valid.</div>
    <ng-container *ngIf="password.invalid && password.touched ">
       <p class="invalid-feedback" *ngIf="password.errors?.required">
         Password is required!
       </p>
       <p class="invalid-feedback" *ngIf="password.errors?.minlength || password.errors?.maxlength">
         Password should contain
         characters
       </p>
     </ng-container>
    </div>
    <div class="form-group form-check">
      <label class="form-check-label">
        <input class="form-check-input" 
                type="checkbox" 
                name="remember"
                *ngIf="!rememberMe"
                required> Remember me
        <div class="valid-feedback">Valid.</div>
        <div class="invalid-feedback">Check this checkbox to continue.</div>
      </label>
    </div>
    <button type="submit" 
            class="btn btn-primary btn-block">Submit</button>
    
  </form>
  <section class="another-action" aria-label="Register">
    Don't have an account? <a class="text-link" routerLink="../register">Register</a>
  </section>
</div>
   
</div>
</div>
